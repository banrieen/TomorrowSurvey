## 目标检测模型

https://apulis-gitlab.apulis.cn/apulis/model-gallery/-/tree/master/models/npu/mindspore/yolov4-under_development

## 训练启动命令

python train.py --data_dir=/data/dataset/storage/tiny_coco --pretrained_backbone=/home/admin/yolov4-fc/yolov4-infer/0-320_586240.ckpt --is_distributed=0 --lr=0.1 --t_max=320 --max_epoch=320 --warmup_epochs=4  --training_shape=416 --lr_scheduler=cosine_annealing 
# Startup traning
!cd /home/admin/yolov4-fc/yolov4-infer \
  && python train.py --data_dir=/data/dataset/storage/tiny_coco --pretrained_backbone=/home/admin/yolov4-fc/yolov4-infer/0-320_586240.ckpt --is_distributed=0 --lr=0.1 --t_max=320 --max_epoch=320 --warmup_epochs=1  --training_shape=416 --lr_scheduler=cosine_annealing --callbacks=[summary_collector] 

python3 model_train.py --input_width=2048 --input_height=1536 --batch_size=2 --epoch_size=10 --init_lr=0.001 --run_eval=True --train_dataset_path=/home/AppData/data_path --output_dir=/home/AppData/output_path

## 评估启动命令  

python eval.py --data_dir=/home/admin/yolov4-fc/coco2017 --pretrained=/home/admin/yolov4-fc/yolov4-infer/0-320_586240.ckpt --testing_shape=608

## 开发环境依赖包
```bash
Package                  Version
------------------------ ------------------
absl-py                  0.11.0
anyio                    2.0.2
apex                     0.1+ascend
argon2-cffi              20.1.0
astor                    0.8.1
asttokens                2.0.4
astunparse               1.6.3
async-generator          1.10
attrs                    20.3.0
Babel                    2.9.0
backcall                 0.2.0
bleach                   3.2.3
bravado                  11.0.3
bravado-core             5.17.0
cached-property          1.5.2
cachetools               4.2.1
certifi                  2020.12.5
cffi                     1.14.4
chardet                  4.0.0
click                    7.1.2
cloudpickle              1.6.0
colorama                 0.4.4
configparser             5.0.1
contextlib2              0.6.0.post1
coverage                 5.4
cpu-load-generator       1.0.2
cycler                   0.10.0
Cython                   0.29.21
decorator                4.4.2
defusedxml               0.6.0
dill                     0.3.4
distro                   1.5.0
dm-sonnet                2.0.0
dm-tree                  0.1.5
easydict                 1.9
entrypoints              0.3
Flask                    1.1.2
Flask-Cors               3.0.10
future                   0.18.2
gast                     0.2.2
gitdb                    4.0.7
GitPython                3.1.18
google-auth              1.24.0
google-auth-oauthlib     0.4.2
google-pasta             0.2.0
googleapis-common-protos 1.53.0
graphviz                 0.16
grpcio                   1.35.0
grpcio-tools             1.35.0
gunicorn                 20.0.4
h5py                     3.1.0
hccl                     0.1.0
hyperopt                 0.1.2
idna                     2.10
imageio                  2.9.0
imgaug                   0.4.0
importlib-metadata       3.4.0
importlib-resources      5.1.4
ipykernel                5.4.3
ipython                  7.19.0
ipython-genutils         0.2.0
itsdangerous             1.1.0
jedi                     0.18.0
Jinja2                   2.11.2
joblib                   1.0.0
json-tricks              3.15.5
json5                    0.9.5
jsonpatch                1.32
jsonpointer              2.1
jsonref                  0.2
jsonschema               3.2.0
jupyter-client           6.1.11
jupyter-core             4.7.0
jupyter-server           1.2.2
jupyterlab               2.2.4
jupyterlab-pygments      0.1.2
jupyterlab-server        1.2.0
kaleido                  0.2.1
Keras                    2.3.1
Keras-Applications       1.0.8
Keras-Preprocessing      1.1.2
kiwisolver               1.3.1
lmdb                     1.0.0
Markdown                 3.3.3
MarkupSafe               1.1.1
marshmallow              3.10.0
matplotlib               3.4.2
mindspore-ascend         1.1.1
mistune                  0.8.4
monotonic                1.6
mpmath                   1.1.0
msgpack                  1.0.2
nbclassic                0.2.6
nbclient                 0.5.1
nbconvert                6.0.7
nbformat                 5.1.2
neptune-client           0.10.2
nest-asyncio             1.5.1
netifaces                0.10.9
networkx                 2.5
nni                      1.9
notebook                 6.2.0
npu-bridge               1.15.0
numpy                    1.17.5
oauthlib                 3.1.0
opencv-python            4.5.1.48
opt-einsum               3.3.0
packaging                20.8
pandas                   1.2.1
pandocfilters            1.4.3
parso                    0.8.1
pathlib2                 2.3.5
pexpect                  4.8.0
pickleshare              0.7.5
Pillow                   8.1.0
pip                      21.0.1
pkginfo                  1.7.0
plotly                   5.1.0
prometheus-client        0.9.0
promise                  2.3
prompt-toolkit           3.0.14
protobuf                 3.14.0
psutil                   5.8.0
ptyprocess               0.7.0
pyasn1                   0.4.8
pyasn1-modules           0.2.8
pycocotools              2.0.2
pycparser                2.20
Pygments                 2.7.4
PyJWT                    2.1.0
pymongo                  3.11.3
PyMySQL                  1.0.2
pyparsing                2.4.7
pyrsistent               0.17.3
python-dateutil          2.8.1
PythonWebHDFS            0.2.3
pytz                     2020.5
PyWavelets               1.1.1
PyYAML                   5.4.1
pyzmq                    21.0.2
requests                 2.25.1
requests-oauthlib        1.3.0
responses                0.12.1
rfc3987                  1.3.8
rsa                      4.7
ruamel.yaml              0.16.12
ruamel.yaml.clib         0.2.2
schema                   0.7.4
scikit-build             0.11.1
scikit-image             0.18.1
scikit-learn             0.24.1
scipy                    1.6.0
seaborn                  0.11.1
Send2Trash               1.5.0
setuptools               41.2.0
Shapely                  1.7.1
shutils                  0.1.0
simplejson               3.17.2
six                      1.15.0
smmap                    4.0.0
sniffio                  1.2.0
strict-rfc3339           0.7
swagger-spec-validator   2.7.3
sympy                    1.4
tabulate                 0.8.7
te                       0.4.0
tenacity                 8.0.1
tensorboard              1.15.0
tensorflow-cpu           1.15.0
tensorflow-datasets      4.3.0
tensorflow-estimator     1.15.1
tensorflow-metadata      1.0.0
termcolor                1.1.0
terminado                0.9.2
testpath                 0.4.4
tf-slim                  1.1.0
threadpoolctl            2.1.0
tifffile                 2021.2.1
topi                     0.4.0
torch                    1.5.0+ascend.post2
torchfile                0.1.0
torchvision              0.6.0
tornado                  6.1
tqdm                     4.56.0
trafaret                 2.1.0
traitlets                5.0.5
treelib                  1.6.1
typing-extensions        3.7.4.3
urllib3                  1.26.3
visdom                   0.1.8.9
wcwidth                  0.2.5
webcolors                1.11.1
webencodings             0.5.1
websocket-client         1.1.0
websockets               8.1
Werkzeug                 1.0.1
wheel                    0.36.2
wrapt                    1.12.1
yapf                     0.30.0
zipp                     3.4.0
```